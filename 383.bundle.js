/*! For license information please see 383.bundle.js.LICENSE.txt */
(self.webpackChunkaleo_website=self.webpackChunkaleo_website||[]).push([[383],{5052:(e,r,t)=>{t.a(e,(async(e,o)=>{try{t.d(r,{AleoKeyProvider:()=>h,AleoKeyProviderParams:()=>p,PrivateKey:()=>n._q,ProgramManager:()=>y,ProgramManagerBase:()=>n.L,initThreadPool:()=>n.CK,verifyFunctionExecution:()=>n.hz});var n=t(9933),i=e([n]);n=(i.then?(await i)():i)[0];async function a(e){const r=await fetch(e);if(!r.ok)throw new Error(r.status+" could not get URL "+e);return r}async function c(e,r){r.method="POST";const t=await fetch(e,r);if(!t.ok)throw new Error(t.status+" could not post URL "+e);return t}class f{host;account;constructor(e){this.host=e+"/testnet3"}setAccount(e){this.account=e}getAccount(){return this.account}setHost(e){this.host=e+"/testnet3"}async fetchData(e="/"){try{const r=await a(this.host+e);return await r.json()}catch(e){throw new Error("Error fetching data.")}}async findUnspentRecords(e,r,t,o,i,a){if(a=a||[],e<0)throw new Error("Start height must be greater than or equal to 0");const c=new Array;let s,l,u,f,p=0,h=BigInt(0);if(void 0===t){if(void 0===this.account)throw new Error("Private key must be specified in an argument to findOwnedRecords or set in the AleoNetworkClient");u=this.account._privateKey}else try{u=t instanceof n._q?t:n._q.from_string(t)}catch(e){throw new Error("Error parsing private key provided.")}const y=u.to_view_key();try{const e=await this.getLatestHeight();if("number"!=typeof e)throw new Error("Error fetching latest block height.");f=e}catch(e){throw new Error("Error fetching latest block height.")}if(l="number"==typeof r&&r<=f?r:f,e>l)throw new Error("Start height must be less than or equal to end height.");for(;l>e;){s=l-50,s<e&&(s=e);try{const e=await this.getBlockRange(s,l);if(l=s,!(e instanceof Error))for(let r=0;r<e.length;r++){const t=e[r].transactions;if(void 0!==t)for(let e=0;e<t.length;e++){const r=t[e];if("execute"==r.type){const e=r.transaction;if(e.execution&&void 0!==e.execution.transitions)for(let r=0;r<e.execution.transitions.length;r++){const t=e.execution.transitions[r];if("credits.aleo"===t.program&&void 0!==t.outputs)for(let e=0;e<t.outputs.length;e++){const r=t.outputs[e];if("record"===r.type)try{const e=n.fW.fromString(r.value);if(e.isOwner(y)){const r=e.decrypt(y),t=r.nonce();if(a.includes(t))continue;const n=r.serialNumberString(u,"credits.aleo","credits");try{await this.getTransitionId(n)}catch(e){if(!o&&(c.push(r),"number"==typeof i&&(h+=r.microcredits(),h>=BigInt(i))))return c;if(void 0!==o&&o.length>0){let e=0;if(r.microcredits()>o[e]){if(e+=1,c.push(r),"number"==typeof i&&(h+=r.microcredits(),h>=BigInt(i)))return c;if(c.length>=o.length)return c}}}}}catch(e){}}}}}}}catch(e){if(console.warn("Error fetching blocks in range: "+s.toString()+"-"+l.toString()),console.warn("Error: ",e),p+=1,p>10)return console.warn("10 failures fetching records reached. Returning records fetched so far"),c}}return c}async getBlock(e){try{return await this.fetchData("/block/"+e)}catch(e){throw new Error("Error fetching block.")}}async getBlockRange(e,r){try{return await this.fetchData("/blocks?start="+e+"&end="+r)}catch(t){throw new Error("Error fetching blocks between "+e+" and "+r+".")}}async getDeploymentTransactionIDForProgram(e){e instanceof n.$r&&(e=e.toString());try{return(await this.fetchData("/find/transactionID/deployment/"+e)).replace('"',"")}catch(e){throw new Error("Error fetching deployment transaction for program.")}}async getDeploymentTransactionForProgram(e){try{const r=await this.getDeploymentTransactionIDForProgram(e);return await this.getTransaction(r)}catch(e){throw new Error("Error fetching deployment transaction for program.")}}async getLatestBlock(){try{return await this.fetchData("/latest/block")}catch(e){throw new Error("Error fetching latest block.")}}async getLatestCommittee(){try{return await this.fetchData("/committee/latest")}catch(e){throw new Error("Error fetching latest block.")}}async getLatestHeight(){try{return await this.fetchData("/latest/height")}catch(e){throw new Error("Error fetching latest height.")}}async getProgram(e){try{return await this.fetchData("/program/"+e)}catch(e){throw new Error("Error fetching program")}}async getProgramObject(e){try{return n.$r.fromString(e)}catch(r){try{return n.$r.fromString(await this.getProgram(e))}catch(r){throw new Error(`${e} is neither a program name or a valid program`)}}}async getProgramImports(e){try{const r={},t=(e instanceof n.$r?e:await this.getProgramObject(e)).getImports();for(let e=0;e<t.length;e++){const o=t[e];if(!r.hasOwnProperty(o)){const e=await this.getProgram(o),t=await this.getProgramImports(o);for(const e in t)r.hasOwnProperty(e)||(r[e]=t[e]);r[o]=e}}return r}catch(e){throw u("Error fetching program imports: "+e)}}async getProgramImportNames(e){try{return(e instanceof n.$r?e:await this.getProgramObject(e)).getImports()}catch(e){throw new Error("Error fetching program imports with error: "+e)}}async getProgramMappingNames(e){try{return await this.fetchData("/program/"+e+"/mappings")}catch(e){throw new Error("Error fetching program mappings - ensure the program exists on chain before trying again")}}async getProgramMappingValue(e,r,t){try{return await this.fetchData("/program/"+e+"/mapping/"+r+"/"+t)}catch(e){throw new Error("Error fetching mapping value - ensure the mapping exists and the key is correct")}}async getStateRoot(){try{return await this.fetchData("/latest/stateRoot")}catch(e){throw new Error("Error fetching Aleo state root")}}async getTransaction(e){try{return await this.fetchData("/transaction/"+e)}catch(e){throw new Error("Error fetching transaction.")}}async getTransactions(e){try{return await this.fetchData("/block/"+e.toString()+"/transactions")}catch(e){throw new Error("Error fetching transactions.")}}async getTransactionsInMempool(){try{return await this.fetchData("/memoryPool/transactions")}catch(e){throw new Error("Error fetching transactions from mempool.")}}async getTransitionId(e){try{return await this.fetchData("/find/transitionID/"+e)}catch(e){throw new Error("Error fetching transition ID.")}}async submitTransaction(e){const r=e instanceof n.YW?e.toString():e;try{const e=await c(this.host+"/transaction/broadcast",{body:r,headers:{"Content-Type":"application/json"}});try{return await e.json()}catch(e){throw new Error(`Error posting transaction. Aleo network response: ${e.message}`)}}catch(e){throw new Error(`Error posting transaction: No response received: ${e.message}`)}}}class p{proverUri;verifierUri;cacheKey;constructor(e){this.proverUri=e.proverUri,this.verifierUri=e.verifierUri,this.cacheKey=e.cacheKey}}class h{cache;cacheOption;keyUris;async fetchBytes(e="/"){try{const r=await a(e),t=await r.arrayBuffer();return new Uint8Array(t)}catch(e){throw new Error("Error fetching data."+e)}}constructor(){this.keyUris=d,this.cache=new Map,this.cacheOption=!1}useCache(e){this.cacheOption=e}clearCache(){this.cache.clear()}cacheKeys(e,r){const[t,o]=r;this.cache.set(e,[t.toBytes(),o.toBytes()])}containsKeys(e){return this.cache.has(e)}deleteKeys(e){return this.cache.delete(e)}getKeys(e){if(console.debug(`Checking if key exists in cache. KeyId: ${e}`),this.cache.has(e)){const[r,t]=this.cache.get(e);return[n.zW.fromBytes(r),n.XV.fromBytes(t)]}return new Error("Key not found in cache.")}async functionKeys(e){if(e){let r,t,o;if("proverUri"in e&&"string"==typeof e.proverUri&&(r=e.proverUri),"verifierUri"in e&&"string"==typeof e.verifierUri&&(t=e.verifierUri),"cacheKey"in e&&"string"==typeof e.cacheKey&&(o=e.cacheKey),r&&t)return await this.fetchKeys(r,t,o);if(o)return this.getKeys(o)}throw Error("Invalid parameters provided, must provide either a cacheKey and/or a proverUrl and a verifierUrl")}async fetchKeys(e,r,t){try{if(this.cacheOption){t||(t=e);const o=this.cache.get(t);if(void 0!==o)return[n.zW.fromBytes(o[0]),n.XV.fromBytes(o[1])];{console.debug("Fetching proving keys from url "+e);const o=n.zW.fromBytes(await this.fetchBytes(e));console.debug("Fetching verifying keys "+r);const i=await this.getVerifyingKey(r);return this.cache.set(t,[o.toBytes(),i.toBytes()]),[o,i]}}{const t=n.zW.fromBytes(await this.fetchBytes(e));return[t,await this.getVerifyingKey(r)]}}catch(t){throw new Error(`Error: ${t} fetching fee proving and verifying keys from ${e} and ${r}.`)}}bondPublicKeys(){return this.fetchKeys(v.bond_public.prover,v.bond_public.verifier,v.bond_public.locator)}claimUnbondPublicKeys(){return this.fetchKeys(v.claim_unbond_public.prover,v.claim_unbond_public.verifier,v.claim_unbond_public.locator)}async transferKeys(e){if(m.has(e))return await this.fetchKeys(v.transfer_private.prover,v.transfer_private.verifier,v.transfer_private.locator);if(b.has(e))return await this.fetchKeys(v.transfer_private_to_public.prover,v.transfer_private_to_public.verifier,v.transfer_private_to_public.locator);if(_.has(e))return await this.fetchKeys(v.transfer_public.prover,v.transfer_public.verifier,v.transfer_public.locator);if(P.has(e))return await this.fetchKeys(v.transfer_public_to_private.prover,v.transfer_public_to_private.verifier,v.transfer_public_to_private.locator);throw new Error("Invalid visibility type")}async joinKeys(){return await this.fetchKeys(v.join.prover,v.join.verifier,v.join.locator)}async splitKeys(){return await this.fetchKeys(v.split.prover,v.split.verifier,v.split.locator)}async feePrivateKeys(){return await this.fetchKeys(v.fee_private.prover,v.fee_private.verifier,v.fee_private.locator)}async feePublicKeys(){return await this.fetchKeys(v.fee_public.prover,v.fee_public.verifier,v.fee_public.locator)}async getVerifyingKey(e){switch(e){case v.bond_public.verifier:return v.bond_public.verifyingKey();case v.claim_unbond_public.verifier:return v.claim_unbond_public.verifyingKey();case v.fee_private.verifier:return v.fee_private.verifyingKey();case v.fee_public.verifier:return v.fee_public.verifyingKey();case v.inclusion.verifier:return v.inclusion.verifyingKey();case v.join.verifier:return v.join.verifyingKey();case v.set_validator_state.verifier:return v.set_validator_state.verifyingKey();case v.split.verifier:return v.split.verifyingKey();case v.transfer_private.verifier:return v.transfer_private.verifyingKey();case v.transfer_private_to_public.verifier:return v.transfer_private_to_public.verifyingKey();case v.transfer_public.verifier:return v.transfer_public.verifyingKey();case v.transfer_public_to_private.verifier:return v.transfer_public_to_private.verifyingKey();case v.unbond_delegator_as_validator.verifier:return v.unbond_delegator_as_validator.verifyingKey();case v.unbond_public.verifier:return v.unbond_public.verifyingKey();default:return n.XV.fromBytes(await this.fetchBytes(e))}}unBondPublicKeys(){return this.fetchKeys(v.unbond_public.prover,v.unbond_public.verifier,v.unbond_public.locator)}}class y{account;keyProvider;host;networkClient;recordProvider;constructor(e,r,t){e?(this.host=e,this.networkClient=new f(e)):(this.host="https://api.explorer.aleo.org/v1",this.networkClient=new f(this.host)),this.keyProvider=r||new h,this.recordProvider=t}setAccount(e){this.account=e}setKeyProvider(e){this.keyProvider=e}setHost(e){this.host=e,this.networkClient.setHost(e)}setRecordProvider(e){this.recordProvider=e}async deploy(e,r,t,o,i,a){try{const r=n.$r.fromString(e);let t;try{t=await this.networkClient.getProgram(r.id())}catch(e){console.log(`Program ${r.id()} does not exist on the network, deploying...`)}if("string"==typeof t)throw`Program ${r.id()} already exists on the network, please rename your program`}catch(e){throw u(`Error validating program: ${e}`)}let c,s=a;if(void 0===a&&void 0!==this.account&&(s=this.account.privateKey()),void 0===s)throw"No private key provided and no private key set in the ProgramManager";try{i=t?await this.getCreditsRecord(r,[],i,o):void 0}catch(e){throw u(`Error finding fee record. Record finder response: '${e}'. Please ensure you're connected to a valid Aleo network and a record with enough balance exists.`)}try{c=t?await this.keyProvider.feePrivateKeys():await this.keyProvider.feePublicKeys()}catch(e){throw u(`Error finding fee keys. Key finder response: '${e}'. Please ensure your key provider is configured correctly.`)}const[l,f]=c;let p;try{p=await this.networkClient.getProgramImports(e)}catch(e){throw u(`Error finding program imports. Network response: '${e}'. Please ensure you're connected to a valid Aleo network and the program is deployed to the network.`)}const h=await n.L.buildDeploymentTransaction(s,e,r,i,this.host,p,l,f);return await this.networkClient.submitTransaction(h)}async buildExecutionTransaction(e,r,t,o,i,a,c,s,l,f,p,h,y,d){if(void 0===y)try{y=await this.networkClient.getProgram(e)}catch(r){throw u(`Error finding ${e}. Network response: '${r}'. Please ensure you're connected to a valid Aleo network the program is deployed to the network.`)}else y instanceof n.$r&&(y=y.toString());let v,g=p;if(void 0===p&&void 0!==this.account&&(g=this.account.privateKey()),void 0===g)throw"No private key provided and no private key set in the ProgramManager";try{s=o?await this.getCreditsRecord(t,[],s,a):void 0}catch(e){throw u(`Error finding fee record. Record finder response: '${e}'. Please ensure you're connected to a valid Aleo network and a record with enough balance exists.`)}try{v=o?await this.keyProvider.feePrivateKeys():await this.keyProvider.feePublicKeys()}catch(e){throw u(`Error finding fee keys. Key finder response: '${e}'. Please ensure your key provider is configured correctly.`)}const[w,m]=v;if(!l||!f)try{[l,f]=await this.keyProvider.functionKeys(c)}catch(e){console.log(`Function keys not found. Key finder response: '${e}'. The function keys will be synthesized`)}if(n.$r.fromString(y).getImports().length>0&&!d)try{d=await this.networkClient.getProgramImports(e)}catch(e){throw u(`Error finding program imports. Network response: '${e}'. Please ensure you're connected to a valid Aleo network and the program is deployed to the network.`)}return await n.L.buildExecutionTransaction(g,y,r,i,t,s,this.host,d,l,f,w,m,h)}async execute(e,r,t,o,n,i,a,c,s,l,u,f,p){const h=await this.buildExecutionTransaction(e,r,t,o,n,i,a,c,s,l,u,f,p);return await this.networkClient.submitTransaction(h)}async run(e,r,t,o,i,a,c,s,l,u){let f=l;if(void 0===l&&void 0!==this.account&&(f=this.account.privateKey()),void 0===f)throw"No private key provided and no private key set in the ProgramManager";if(!c||!s)try{[c,s]=await this.keyProvider.functionKeys(a)}catch(e){console.log(`Function keys not found. Key finder response: '${e}'. The function keys will be synthesized`)}return console.log("Running program offline"),console.log("Proving key: ",c),console.log("Verifying key: ",s),n.L.executeFunctionOffline(f,e,r,t,o,!1,i,c,s,this.host,u)}async join(e,r,t,o,i,a,c,s){let l,f,p=c;if(void 0===c&&void 0!==this.account&&(p=this.account.privateKey()),void 0===p)throw"No private key provided and no private key set in the ProgramManager";try{l=o?await this.keyProvider.feePrivateKeys():await this.keyProvider.feePublicKeys(),f=await this.keyProvider.joinKeys()}catch(e){throw u(`Error finding fee keys. Key finder response: '${e}'. Please ensure your key provider is configured correctly.`)}const[h,y]=l,[d,v]=f;try{a=o?await this.getCreditsRecord(t,[],a,i):void 0}catch(e){throw u(`Error finding fee record. Record finder response: '${e}'. Please ensure you're connected to a valid Aleo network and a record with enough balance exists.`)}try{e=e instanceof n.PD?e:n.PD.fromString(e),r=r instanceof n.PD?r:n.PD.fromString(r)}catch(e){throw u("Records provided are not valid. Please ensure they are valid plaintext records.")}const g=await n.L.buildJoinTransaction(p,e,r,t,a,this.host,d,v,h,y,s);return await this.networkClient.submitTransaction(g)}async split(e,r,t,o){let i,a=t;if(void 0===a&&void 0!==this.account&&(a=this.account.privateKey()),void 0===a)throw"No private key provided and no private key set in the ProgramManager";try{i=await this.keyProvider.splitKeys()}catch(e){throw u(`Error finding fee keys. Key finder response: '${e}'. Please ensure your key provider is configured correctly.`)}const[c,s]=i;try{r=r instanceof n.PD?r:n.PD.fromString(r)}catch(e){throw u("Record provided is not valid. Please ensure it is a valid plaintext record.")}const l=await n.L.buildSplitTransaction(a,e,r,this.host,c,s,o);return await this.networkClient.submitTransaction(l)}async synthesizeKeys(e,r,t,o){let i,a=o;void 0===a&&(a=void 0!==this.account?this.account.privateKey():new n._q);try{i=await this.networkClient.getProgramImports(e);const o=await n.L.synthesizeKeyPair(a,e,r,t,i);return[o.provingKey(),o.verifyingKey()]}catch(e){throw u(`Could not synthesize keys - error ${e}. Please ensure the program is valid and the inputs are correct.`)}}async buildTransferTransaction(e,r,t,o,i,a,c,f,p,h){t=l(t);let y,d,v=p;if(void 0===v&&void 0!==this.account&&(v=this.account.privateKey()),void 0===v)throw"No private key provided and no private key set in the ProgramManager";try{y=i?await this.keyProvider.feePrivateKeys():await this.keyProvider.feePublicKeys(),d=await this.keyProvider.transferKeys(t)}catch(e){throw u(`Error finding fee keys. Key finder response: '${e}'. Please ensure your key provider is configured correctly.`)}const[g,w]=y,[m,b]=d;try{const e=[];s(t)?(c=await this.getCreditsRecord(o,[],c,a),e.push(c.nonce())):c=void 0,f=i?await this.getCreditsRecord(o,e,f,a):void 0}catch(e){throw u(`Error finding fee record. Record finder response: '${e}'. Please ensure you're connected to a valid Aleo network and a record with enough balance exists.`)}return await n.L.buildTransferTransaction(v,e,r,t,c,o,f,this.host,m,b,g,w,h)}async buildTransferPublicTransaction(e,r,t,o,n){return this.buildTransferTransaction(e,r,"public",t,!1,void 0,void 0,void 0,o,n)}async transfer(e,r,t,o,n,i,a,c,s,l){const u=await this.buildTransferTransaction(e,r,t,o,n,i,a,c,s,l);return await this.networkClient.submitTransaction(u)}async buildBondPublicTransaction(e,r,t={}){r=Math.trunc(1e6*r);const{offlineParams:o={},executionParams:n={}}=t||{};let{programName:i="credits.aleo",functionName:a="bond_public",fee:c=n?.fee||.86,privateFee:s=!1,recordSearchParams:l,keySearchParams:u,feeRecord:f,provingKey:h,verifyingKey:y,privateKey:d}=n;void 0===u&&(u=new p({proverUri:v.bond_public.prover,verifierUri:v.bond_public.verifier,cacheKey:"credits.aleo/bond_public"}));const{offlineQuery:g}=o;return await this.buildExecutionTransaction(i,a,c,s,[e,`${r.toString()}u64`],l,u,f,h,y,d,g,this.creditsProgram())}async bondPublic(e,r,t={}){const o=await this.buildBondPublicTransaction(e,r,t);return await this.networkClient.submitTransaction(o)}async buildUnbondPublicTransaction(e,r={}){e=Math.trunc(1e6*e);const{offlineParams:t={},executionParams:o={}}=r||{};let{programName:n="credits.aleo",functionName:i="unbond_public",fee:a=o?.fee||1.3,privateFee:c=!1,recordSearchParams:s,keySearchParams:l,feeRecord:u,provingKey:f,verifyingKey:h,privateKey:y}=o;void 0===l&&(l=new p({proverUri:v.unbond_public.prover,verifierUri:v.unbond_public.verifier,cacheKey:"credits.aleo/unbond_public"}));const{offlineQuery:d}=t;return this.buildExecutionTransaction(n,i,a,c,[`${e.toString()}u64`],s,l,u,f,h,y,d,this.creditsProgram())}async unbondPublic(e,r={}){const t=await this.buildUnbondPublicTransaction(e,r);return await this.networkClient.submitTransaction(t)}async buildClaimUnbondPublicTransaction(e={}){const{offlineParams:r={},executionParams:t={}}=e||{};let{programName:o="credits.aleo",functionName:n="claim_unbond_public",fee:i=t?.fee||2,privateFee:a=!1,recordSearchParams:c,keySearchParams:s,feeRecord:l,provingKey:u,verifyingKey:f,privateKey:h}=t;void 0===s&&(s=new p({proverUri:v.claim_unbond_public.prover,verifierUri:v.claim_unbond_public.verifier,cacheKey:"credits.aleo/claim_unbond_public"}));const{offlineQuery:y}=r;return await this.buildExecutionTransaction(o,n,i,a,[],c,s,l,u,f,h,y,this.creditsProgram())}async claimUnbondPublic(e={}){const r=await this.buildClaimUnbondPublicTransaction(e);return await this.networkClient.submitTransaction(r)}async setValidatorState(e,r={}){const{offlineParams:t={},executionParams:o={}}=r||{};let{programName:n="credits.aleo",functionName:i="set_validator_state",fee:a=1,privateFee:c=!1,recordSearchParams:s,keySearchParams:l,feeRecord:u,provingKey:f,verifyingKey:h,privateKey:y}=o;void 0===l&&(l=new p({proverUri:v.set_validator_state.prover,verifierUri:v.set_validator_state.verifier,cacheKey:"credits.aleo/set_validator_state"}));const{offlineQuery:d}=t;return await this.execute(n,i,a,c,[e.toString()],s,l,u,f,h,y,d)}async unbondDelegatorAsValidator(e,r={}){const{offlineParams:t={},executionParams:o={}}=r||{};let{programName:n="credits.aleo",functionName:i="unbond_delegator_as_validator",fee:a=1,privateFee:c=!1,recordSearchParams:s,keySearchParams:l,feeRecord:u,provingKey:f,verifyingKey:h,privateKey:y}=o;void 0===l&&(l=new p({proverUri:v.unbond_delegator_as_validator.prover,verifierUri:v.unbond_delegator_as_validator.verifier,cacheKey:"credits.aleo/unbond_delegator_as_validator"}));const{offlineQuery:d}=t;return await this.execute(n,i,a,c,[e],s,l,u,f,h,y,d)}verifyExecution(e){try{const r=e.getExecution(),t=e.getFunctionId(),o=e.getProgram(),i=e.getVerifyingKey();return(0,n.hz)(r,i,o,t)}catch(e){return console.warn("The execution was not found in the response, cannot verify the execution"),!1}}createProgramFromSource(e){return n.$r.fromString(e)}creditsProgram(){return n.$r.getCreditsProgram()}verifyProgram(e){try{return n.$r.fromString(e),!0}catch(e){return!1}}async getCreditsRecord(e,r,t,o){try{return t instanceof n.PD?t:n.PD.fromString(t)}catch(t){try{const t=this.recordProvider;return await t.findCreditsRecord(e,!0,r,o)}catch(e){throw u(`Error finding fee record. Record finder response: '${e}'. Please ensure you're connected to a valid Aleo network and a record with enough balance exists.`)}}}}function s(e){return g.has(e)}function l(e){return w.has(e)?e:u(`Invalid transfer type '${e}'. Valid transfer types are 'private', 'privateToPublic', 'public', and 'publicToPrivate'.`)}const d="https://testnet3.parameters.aleo.org/",v={bond_public:{locator:"credits.aleo/bond_public",prover:d+"bond_public.prover.9c3547d",verifier:"bond_public.verifier.10315ae",verifyingKey:n.XV.bondPublicVerifier},claim_unbond_public:{locator:"credits.aleo/claim_unbond_public",prover:d+"claim_unbond_public.prover.f8b64aa",verifier:"claim_unbond_public.verifier.8fd7445",verifyingKey:n.XV.claimUnbondPublicVerifier},fee_private:{locator:"credits.aleo/fee_private",prover:d+"fee_private.prover.43fab98",verifier:"fee_private.verifier.f3dfefc",verifyingKey:n.XV.feePrivateVerifier},fee_public:{locator:"credits.aleo/fee_public",prover:d+"fee_public.prover.634f153",verifier:"fee_public.verifier.09eeb4f",verifyingKey:n.XV.feePublicVerifier},inclusion:{locator:"inclusion",prover:d+"inclusion.prover.cd85cc5",verifier:"inclusion.verifier.e6f3add",verifyingKey:n.XV.inclusionVerifier},join:{locator:"credits.aleo/join",prover:d+"join.prover.1a76fe8",verifier:"join.verifier.4f1701b",verifyingKey:n.XV.joinVerifier},set_validator_state:{locator:"credits.aleo/set_validator_state",prover:d+"set_validator_state.prover.5ce19be",verifier:"set_validator_state.verifier.730d95b",verifyingKey:n.XV.setValidatorStateVerifier},split:{locator:"credits.aleo/split",prover:d+"split.prover.e6d12b9",verifier:"split.verifier.2f9733d",verifyingKey:n.XV.splitVerifier},transfer_private:{locator:"credits.aleo/transfer_private",prover:d+"transfer_private.prover.2b487c0",verifier:"transfer_private.verifier.3a3cbba",verifyingKey:n.XV.transferPrivateVerifier},transfer_private_to_public:{locator:"credits.aleo/transfer_private_to_public",prover:d+"transfer_private_to_public.prover.1ff64cb",verifier:"transfer_private_to_public.verifier.d5b60de",verifyingKey:n.XV.transferPrivateToPublicVerifier},transfer_public:{locator:"credits.aleo/transfer_public",prover:d+"transfer_public.prover.a74565e",verifier:"transfer_public.verifier.a4c2906",verifyingKey:n.XV.transferPublicVerifier},transfer_public_to_private:{locator:"credits.aleo/transfer_public_to_private",prover:d+"transfer_public_to_private.prover.1bcddf9",verifier:"transfer_public_to_private.verifier.b094554",verifyingKey:n.XV.transferPublicToPrivateVerifier},unbond_delegator_as_validator:{locator:"credits.aleo/unbond_delegator_as_validator",prover:d+"unbond_delegator_as_validator.prover.115a86b",verifier:"unbond_delegator_as_validator.verifier.9585609",verifyingKey:n.XV.unbondDelegatorAsValidatorVerifier},unbond_public:{locator:"credits.aleo/unbond_public",prover:d+"unbond_public.prover.9547c05",verifier:"unbond_public.verifier.09873cd",verifyingKey:n.XV.unbondPublicVerifier}},g=new Set(["transfer_private","private","transferPrivate","transfer_private_to_public","privateToPublic","transferPrivateToPublic"]),w=new Set(["transfer_private","private","transferPrivate","transfer_private_to_public","privateToPublic","transferPrivateToPublic","transfer_public","public","transferPublic","transfer_public_to_private","publicToPrivate","transferPublicToPrivate"]),m=new Set(["private","transfer_private","transferPrivate"]),b=new Set(["private_to_public","privateToPublic","transfer_private_to_public","transferPrivateToPublic"]),_=new Set(["public","transfer_public","transferPublic"]),P=new Set(["public_to_private","publicToPrivate","transfer_public_to_private","transferPublicToPrivate"]);function u(e){throw console.error(e),e}o()}catch(E){o(E)}}))},5383:(e,r,t)=>{t.a(e,(async(e,r)=>{try{var o=t(5052),n=e([o]);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,r){if(e){if("string"==typeof e)return s(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,r):void 0}}function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}function l(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,n,i,a,c=[],s=!0,l=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;s=!1}else for(;!(s=(o=i.call(t)).done)&&(c.push(o.value),c.length!==r);s=!0);}catch(e){l=!0,n=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw n}}return c}}function u(e){if(Array.isArray(e))return e}function f(){f=function(){return r};var e,r={},t=Object.prototype,o=t.hasOwnProperty,n=Object.defineProperty||function(e,r,t){e[r]=t.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,r,t){return Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[r]}try{u({},"")}catch(e){u=function(e,r,t){return e[r]=t}}function p(e,r,t,o){var i=r&&r.prototype instanceof m?r:m,a=Object.create(i.prototype),c=new L(o||[]);return n(a,"_invoke",{value:S(e,t,c)}),a}function h(e,r,t){try{return{type:"normal",arg:e.call(r,t)}}catch(e){return{type:"throw",arg:e}}}r.wrap=p;var y="suspendedStart",d="suspendedYield",v="executing",g="completed",w={};function m(){}function b(){}function _(){}var P={};u(P,c,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(A([])));k&&k!==t&&o.call(k,c)&&(P=k);var K=_.prototype=m.prototype=Object.create(P);function x(e){["next","throw","return"].forEach((function(r){u(e,r,(function(e){return this._invoke(r,e)}))}))}function T(e,r){function t(n,a,c,s){var l=h(e[n],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==i(f)&&o.call(f,"__await")?r.resolve(f.__await).then((function(e){t("next",e,c,s)}),(function(e){t("throw",e,c,s)})):r.resolve(f).then((function(e){u.value=e,c(u)}),(function(e){return t("throw",e,c,s)}))}s(l.arg)}var a;n(this,"_invoke",{value:function(e,o){function n(){return new r((function(r,n){t(e,o,r,n)}))}return a=a?a.then(n,n):n()}})}function S(r,t,o){var n=y;return function(i,a){if(n===v)throw new Error("Generator is already running");if(n===g){if("throw"===i)throw a;return{value:e,done:!0}}for(o.method=i,o.arg=a;;){var c=o.delegate;if(c){var s=O(c,o);if(s){if(s===w)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(n===y)throw n=g,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n=v;var l=h(r,t,o);if("normal"===l.type){if(n=o.done?g:d,l.arg===w)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(n=g,o.method="throw",o.arg=l.arg)}}}function O(r,t){var o=t.method,n=r.iterator[o];if(n===e)return t.delegate=null,"throw"===o&&r.iterator.return&&(t.method="return",t.arg=e,O(r,t),"throw"===t.method)||"return"!==o&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+o+"' method")),w;var i=h(n,r.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,w;var a=i.arg;return a?a.done?(t[r.resultName]=a.value,t.next=r.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,w):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,w)}function R(e){var r={tryLoc:e[0]};1 in e&&(r.catchLoc=e[1]),2 in e&&(r.finallyLoc=e[2],r.afterLoc=e[3]),this.tryEntries.push(r)}function C(e){var r=e.completion||{};r.type="normal",delete r.arg,e.completion=r}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function A(r){if(r||""===r){var t=r[c];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var n=-1,a=function t(){for(;++n<r.length;)if(o.call(r,n))return t.value=r[n],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(i(r)+" is not iterable")}return b.prototype=_,n(K,"constructor",{value:_,configurable:!0}),n(_,"constructor",{value:b,configurable:!0}),b.displayName=u(_,l,"GeneratorFunction"),r.isGeneratorFunction=function(e){var r="function"==typeof e&&e.constructor;return!!r&&(r===b||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,u(e,l,"GeneratorFunction")),e.prototype=Object.create(K),e},r.awrap=function(e){return{__await:e}},x(T.prototype),u(T.prototype,s,(function(){return this})),r.AsyncIterator=T,r.async=function(e,t,o,n,i){void 0===i&&(i=Promise);var a=new T(p(e,t,o,n),i);return r.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(K),u(K,l,"Generator"),u(K,c,(function(){return this})),u(K,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var r=Object(e),t=[];for(var o in r)t.push(o);return t.reverse(),function e(){for(;t.length;){var o=t.pop();if(o in r)return e.value=o,e.done=!1,e}return e.done=!0,e}},r.values=A,L.prototype={constructor:L,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!r)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var t=this;function n(o,n){return c.type="throw",c.arg=r,t.next=o,n&&(t.method="next",t.arg=e),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,r){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,w):this.complete(a)},complete:function(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),w},finish:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),C(t),w}},catch:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc===e){var o=t.completion;if("throw"===o.type){var n=o.arg;C(t)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(r,t,o){return this.delegate={iterator:A(r),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=e),w}},r}function p(e,r,t,o,n,i,a){try{var c=e[i](a),s=c.value}catch(e){return void t(e)}c.done?r(s):Promise.resolve(s).then(o,n)}function h(e){return function(){var r=this,t=arguments;return new Promise((function(o,n){var i=e.apply(r,t);function a(e){p(i,o,n,a,c,"next",e)}function c(e){p(i,o,n,a,c,"throw",e)}a(void 0)}))}}o=(n.then?(await n)():n)[0],await o.initThreadPool();var y="https://api.explorer.aleo.org/v1",d=new o.AleoKeyProvider,v=new o.ProgramManager(y,d,void 0);d.useCache(!0),self.postMessage({type:"ALEO_WORKER_READY"});var g=null;self.addEventListener("message",(function(e){if("ALEO_EXECUTE_PROGRAM_LOCAL"===e.data.type){var r=e.data,t=r.localProgram,n=r.aleoFunction,i=r.inputs,s=r.privateKey;console.log("Web worker: Executing function locally...");var p=performance.now();h(f().mark((function e(){var r,a,c,l,u,h,y,w,m,b;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=o.PrivateKey.from_string(s),a=v.createProgramFromSource(t),c=a.id(),a.hasFunction(n)){e.next=6;break}throw"Program ".concat(c," does not contain function ").concat(n);case 6:if(l="".concat(c,":").concat(n),u=v.networkClient.getProgramImports(t),g===t){e.next=14;break}return e.next=11,v.synthesizeKeys(t,n,i,r);case 11:h=e.sent,v.keyProvider.cacheKeys(l,h),g=t;case 14:return y=new o.AleoKeyProviderParams({cacheKey:l}),e.next=17,v.run(t,n,i,!1,u,y,void 0,void 0,r,void 0);case 17:w=e.sent,console.log("Web worker: Local execution completed in ".concat(performance.now()-p," ms")),m=w.getOutputs(),(b=w.getExecution())?(o.verifyFunctionExecution(b,d.getKeys(l)[1],a,"hello"),b=b.toString(),console.log("Execution verified successfully: "+b)):b="",console.log("Function execution response: ".concat(m)),self.postMessage({type:"OFFLINE_EXECUTION_COMPLETED",outputs:{outputs:m,execution:b}}),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(0),console.error(e.t0),self.postMessage({type:"ERROR",errorMessage:e.t0.toString()});case 30:case"end":return e.stop()}}),e,null,[[0,26]])})))()}else if("ALEO_EXECUTE_PROGRAM_ON_CHAIN"===e.data.type){var w=e.data,m=w.remoteProgram,b=w.aleoFunction,_=w.inputs,P=w.privateKey,E=w.fee,k=w.privateFee,K=w.feeRecord,x=w.url;console.log("Web worker: Creating execution...");var T=performance.now();h(f().mark((function e(){var r,t,n,i,a,c,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=o.PrivateKey.from_string(P),e.next=4,v.networkClient.getProgramObject(m);case 4:if(t=e.sent,n=t.id(),t.hasFunction(b)){e.next=8;break}throw"Program ".concat(n," does not contain function ").concat(b);case 8:if(i="".concat(n,":").concat(b),v.keyProvider.containsKeys(i)){e.next=15;break}return console.log("Web worker: Synthesizing proving & verifying keys for: '".concat(n,":").concat(b,"'")),e.next=13,v.synthesizeKeys(m,b,_,r);case 13:a=e.sent,v.keyProvider.cacheKeys(i,a);case 15:return c=new o.AleoKeyProviderParams({cacheKey:i}),"string"==typeof x&&v.setHost(x),e.next=19,v.execute(n,b,E,k,_,void 0,c,K,void 0,void 0,r,void 0);case 19:s=e.sent,console.log("Web worker: On-chain execution transaction created in ".concat(performance.now()-T," ms")),self.postMessage({type:"EXECUTION_TRANSACTION_COMPLETED",executeTransaction:s}),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),console.error("Error creating execution transaction: ".concat(e.t0)),self.postMessage({type:"ERROR",errorMessage:e.t0.toString()});case 28:return e.prev=28,v.setHost(y),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[0,24,28,31]])})))()}else if("ALEO_ESTIMATE_EXECUTION_FEE"===e.data.type){var S=e.data,O=S.remoteProgram,R=S.privateKey,C=S.aleoFunction,L=S.inputs,A=S.url;console.log("Web worker: Estimating execution fee...");var N=performance.now();h(f().mark((function e(){var r,t,n,i,s,p,h,y,d,g,w;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=o.PrivateKey.from_string(R),e.next=4,v.networkClient.getProgramObject(O);case 4:if(t=e.sent,n=t.id(),t.getFunctions().includes(C)){e.next=8;break}throw"Program ".concat(n," does not contain function ").concat(C);case 8:return i="".concat(n,":").concat(C),e.next=11,v.networkClient.getProgramImports(O);case 11:if(s=e.sent,v.keyProvider.containsKeys(i)){e.next=18;break}return console.log("Web worker: Synthesizing proving & verifying keys for: '".concat(n,":").concat(C,"'")),e.next=16,v.synthesizeKeys(t.toString(),C,L,r);case 16:p=e.sent,v.keyProvider.cacheKeys(i,p);case 18:return h=v.keyProvider.getKeys(i),m=2,y=u(f=h)||l(f,m)||c(f,m)||a(),d=y[0],g=y[1],e.next=21,o.ProgramManagerBase.estimateExecutionFee(r,O,C,L,A,s,d,g,void 0);case 21:w=e.sent,console.log("Web worker: Execution fee estimated in ".concat(performance.now()-N," ms")),console.log("Execution Fee Estimation: ".concat(w," microcredits")),self.postMessage({type:"EXECUTION_FEE_ESTIMATION_COMPLETED",executionFee:Number(w)/1e6+.01}),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(0),console.error(e.t0),self.postMessage({type:"ERROR",errorMessage:e.t0.toString()});case 31:case"end":return e.stop()}var f,m}),e,null,[[0,27]])})))()}else if("ALEO_ESTIMATE_DEPLOYMENT_FEE"===e.data.type){var M=e.data,I=M.program;M.url;console.log("Web worker: Estimating deployment fee...");var D=performance.now();h(f().mark((function e(){var r,t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.networkClient.getProgramImports(I);case 3:return r=e.sent,console.log("Estimating deployment fee.."),e.next=7,o.ProgramManagerBase.estimateDeploymentFee(I,r);case 7:t=e.sent,console.log("Web worker: Deployment fee estimation completed in ".concat(performance.now()-D," ms")),console.log("Deployment Fee Estimation: ".concat(t," microcredits")),self.postMessage({type:"DEPLOYMENT_FEE_ESTIMATION_COMPLETED",deploymentFee:Number(t)/1e6+.01}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),self.postMessage({type:"ERROR",errorMessage:e.t0.toString()});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))()}else if("ALEO_TRANSFER"===e.data.type){var F=e.data,U=F.privateKey,j=F.amountCredits,V=F.recipient,$=F.transfer_type,B=F.amountRecord,W=F.fee,X=F.privateFee,z=F.feeRecord,H=F.url;console.log("Web worker: Creating transfer of type ".concat($,"..."));var G=performance.now();h(f().mark((function e(){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"string"==typeof H&&v.setHost(H),e.next=4,v.transfer(j,V,$,W,X,void 0,B,z,o.PrivateKey.from_string(U),void 0);case 4:r=e.sent,console.log("Web worker: Transfer transaction ".concat(r," created in ").concat(performance.now()-G," ms")),self.postMessage({type:"TRANSFER_TRANSACTION_COMPLETED",transferTransaction:r}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),self.postMessage({type:"ERROR",errorMessage:e.t0.toString()});case 13:return e.prev=13,v.setHost(y),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})))()}else if("ALEO_DEPLOY"===e.data.type){var Y=e.data,q=Y.program,Q=Y.privateKey,J=Y.fee,Z=Y.privateFee,ee=Y.feeRecord,re=Y.url;console.log("Web worker: Creating deployment...");var te=performance.now();h(f().mark((function e(){var r,t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"string"==typeof re&&v.setHost(re),r=v.createProgramFromSource(q),t=!1,e.prev=4,e.next=7,v.networkClient.getProgram(r.id());case 7:t=!0,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log("Program not found on the Aleo Network - proceeding with deployment...");case 13:if(!t){e.next=15;break}throw"Program ".concat(r.id()," already exists on the network");case 15:return console.log("fee is: ",J),e.next=18,v.deploy(q,J,Z,void 0,ee,o.PrivateKey.from_string(Q),void 0);case 18:n=e.sent,console.log("Web worker: Deployment transaction ".concat(n," created in ").concat(performance.now()-te," ms")),self.postMessage({type:"DEPLOY_TRANSACTION_COMPLETED",deployTransaction:n}),e.next=27;break;case 23:e.prev=23,e.t1=e.catch(0),console.log(e.t1),self.postMessage({type:"ERROR",errorMessage:e.t1.toString()});case 27:return e.prev=27,v.setHost(y),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[0,23,27,30],[4,10]])})))()}else if("ALEO_SPLIT"===e.data.type){var oe=e.data,ne=oe.splitAmount,ie=oe.record,ae=oe.privateKey,ce=oe.url;console.log("Web worker: Creating split...");var se=performance.now();h(f().mark((function e(){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"string"==typeof ce&&v.setHost(ce),e.next=4,v.split(ne,ie,o.PrivateKey.from_string(ae),void 0);case 4:r=e.sent,console.log("Web worker: Split transaction ".concat(r," created in ").concat(performance.now()-se," ms")),self.postMessage({type:"SPLIT_TRANSACTION_COMPLETED",splitTransaction:r}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),self.postMessage({type:"ERROR",errorMessage:e.t0.toString()});case 13:return e.prev=13,v.setHost(y),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})))()}else if("ALEO_JOIN"===e.data.type){var le=e.data,ue=le.recordOne,fe=le.recordTwo,pe=le.fee,he=le.privateFee,ye=le.feeRecord,de=le.privateKey,ve=le.url;console.log("Web worker: Creating join...");var ge=performance.now();h(f().mark((function e(){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"string"==typeof ve&&v.setHost(ve),e.next=4,v.join(ue,fe,pe,he,void 0,ye,o.PrivateKey.from_string(de),void 0);case 4:r=e.sent,console.log("Web worker: Join transaction ".concat(r," created in ").concat(performance.now()-ge," ms")),self.postMessage({type:"JOIN_TRANSACTION_COMPLETED",joinTransaction:r}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),self.postMessage({type:"ERROR",errorMessage:e.t0.toString()});case 13:return e.prev=13,v.setHost(y),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})))()}})),r()}catch(w){r(w)}}),1)}}]);
//# sourceMappingURL=383.bundle.js.map